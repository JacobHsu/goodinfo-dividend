# 股利一覽 - 精簡版

仿照 GoodInfo 風格的股利一覽網頁應用，顯示指定類股中**除權息合計殖利率 ≥ 5%** 的股票清單。

## ✨ 功能特色

- 📊 **類股選單** - 支援 水泥、食品、塑膠、紡織、電機等類股。
- 🎯 **篩選條件** - 預設只顯示殖利率 ≥ 5% 的股票。
- 📈 **互動表格** - 支援點擊標題排序，完全仿照 GoodInfo 的專業視覺風格。
- 🎨 **精準美學** - 嚴格遵循 GoodInfo 的配色與無圓角設計規範。

## 📋 顯示欄位

1. 代號 / 名稱
2. 成交價
3. 股利發放頻率
4. 現金 / 股票 / 合計股利
5. **除權息合計殖利率** ⭐
6. 除權息日期與發放日

## 🚀 使用方式

### 1. 安裝環境需求

本專案使用 Selenium 改良版爬蟲，以確保能穩定獲取資料：

```bash
pip install selenium
```

### 2. 執行爬蟲腳本

```bash
python scraper.py
```

執行後會在 `data/` 目錄下產生各類股的 `.csv` 檔案（例如：`水泥工業.csv`）。

### 3. 匯出完整清單（可選）

若要將所有產業中殖利率 ≥ 5% 的股票匯出成單一 CSV 檔案：

```bash
python export_high_yield.py
```

執行後會在 `data/` 目錄產生 `high_yield_stocks.csv`，包含：
- 所有產業的高殖利率股票（已排序）
- 自動過濾黑名單股票（去年沒發股利的股票）
- 自動過濾 ETF 中的債券型（代碼結尾為 'B'）

### 4. 本地啟動網頁

建議使用簡易伺服器開啟以避免瀏覽器 CORS 限制：

```bash
python -m http.server 8080
```
然後訪問 `http://localhost:8080`。

## 📁 專案結構

```
d:/15-stock/goodinfo-dividend/
├── index.html              # 主頁面結構
├── style.css               # GoodInfo 視覺規範樣式
├── app.js                  # CSV 載入與互動邏輯
├── scraper.py              # Selenium 爬蟲腳本
├── export_high_yield.py    # 匯出完整清單腳本
├── .cursorrules            # 專案風格指導規範 (供 AI 遵循)
├── data/
│   ├── *.csv                     # 爬取的類股資料檔案
│   └── high_yield_stocks.csv     # 匯出的完整清單（執行後產生）
└── README.md               # 本文件
```

## 🔧 技術架構

### 後端(資料爬取)
- **Python 3.x**
- **requests** - HTTP 請求
- **BeautifulSoup4** - HTML 解析

### 前端
- **HTML5** - 頁面結構
- **CSS3** - 樣式設計
- **Vanilla JavaScript** - 互動邏輯

## 📊 資料來源

資料來源: [GoodInfo!台灣股市資訊網](https://goodinfo.tw/)

爬取的資料包含:
- 40 個類股分類
- 只保留除權息合計殖利率 ≥ 5% 的股票
- 爬蟲會自動處理分頁，確保資料完整性。

## ⚙️ 爬蟲設定

### 修改篩選條件

編輯 `scraper.py` 中的 `MIN_YIELD` 變數:

```python
# 最小殖利率門檻(預設 5%)
MIN_YIELD = 5.0
```

### 修改類股範圍

編輯 `scraper.py` 中的 `CATEGORIES` 清單。

### 反爬蟲處理

爬蟲已內建:
- ✅ 隨機延遲 1-3 秒
- ✅ User-Agent 模擬瀏覽器
- ✅ 錯誤處理與重試

## 📝 注意事項

1. **資料更新頻率**: 建議定期執行爬蟲以獲取最新股利資訊。
2. **爬蟲禮儀**: 請勿過度頻繁執行爬蟲,避免對 GoodInfo 伺服器造成負擔
3. **資料準確性**: 資料來源為 GoodInfo,僅供參考,投資前請自行查證
4. **黑名單管理**: 若發現股票去年沒發股利，可編輯 `app.js` 和 `export_high_yield.py` 中的 `DIVIDEND_BLACKLIST` 加入代碼

## 🎯 使用範例

### 查看特定類股

1. 開啟 `index.html`
2. 點擊類股選單中的類股名稱(例如:「金融保險」)
3. 下方表格會顯示該類股中殖利率 ≥ 5% 的股票

### 排序股票

- 點擊表格標題即可排序
- 預設按「除權息合計殖利率」由高到低排序
- 再次點擊可切換升序/降序

## 📄 授權

本專案僅供個人學習與研究使用。

---
**開發日期**: 2025-12-30  
**版本**: 1.1.0
